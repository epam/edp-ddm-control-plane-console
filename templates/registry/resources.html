{{ define "registry-resources" }}
    <h2>Ресурси реєстру</h2>

        <input type="hidden" name="resources" :value="registryResources.encoded" />
        <input type="hidden" id="preload-resources" ref="resourcesEditConfig" value="{{ .model.Resources }}" />

        <div class="registry-resources">
            <div class="rc-form-group res-cat-select">
                <select v-model="registryResources.cat">
                    <option v-for="cat in registryResources.cats">[[ cat ]]</option>
                </select>
                <button @click="addResourceCat">+</button>
            </div>

            <div class="cat-line" v-for="cat in registryResources.addedCats">
                <h4>[[ cat.name ]] <button class="remove-cat">-</button></h4>
                <div class="rc-form-group">
                    <h5>Istio sidecar</h5>
                    <div class="sidecar-enabled">
                        <input v-model="cat.config.istio.sidecar.enabled" type="checkbox" id="istio-sidecar-enabled">
                        <label for="istio-sidecar-enabled">Enabled</label>
                    </div>
                    <label>Requests</label>
                    <input v-model="cat.config.istio.sidecar.resources.requests.cpu" type="text" placeholder="CPU" />
                    <input v-model="cat.config.istio.sidecar.resources.requests.memory" type="text" placeholder="Memory" />

                    <label>Limits</label>
                    <input v-model="cat.config.istio.sidecar.resources.limits.cpu" type="text" placeholder="CPU" />
                    <input v-model="cat.config.istio.sidecar.resources.limits.memory" type="text" placeholder="Memory">
                </div>

                <div class="rc-form-group">
                    <h5>Container</h5>
                    <label>Requests</label>
                    <input v-model="cat.config.container.resources.requests.cpu" type="text" placeholder="CPU" />
                    <input v-model="cat.config.container.resources.requests.memory" type="text" placeholder="Memory" />

                    <label>Limits</label>
                    <input v-model="cat.config.container.resources.limits.cpu" type="text" placeholder="CPU" />
                    <input v-model="cat.config.container.resources.limits.memory" type="text" placeholder="Memory">

                    <label>Змінні оточення</label>
                    <div class="env-vars">
                        <div class="env-var-line" v-for="env in cat.config.container.envVars">
                            <input class="env-name" type="text" placeholder="Name" v-model="env.name" />
                            <input class="env-value" type="text" placeholder="Value" v-model="env.value" />
                            <button @click="removeEnvVar(cat.config.container.envVars, env)" class="remove-env-var">-</button>
                        </div>
                        <a class="env-add-lnk" @click="addEnvVar(cat.config.container.envVars, $event)" href="#">Додати змінну оточення</a>
                    </div>
                </div>
            </div>
        </div>
{{end}}